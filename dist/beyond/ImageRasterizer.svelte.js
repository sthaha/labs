import{SvelteComponentDev as G,add_location as h,append_dev as o,attr_dev as s,create_component as J,destroy_component as K,detach_dev as Q,dispatch_dev as q,element as _,globals as U,init as V,insert_dev as X,listen_dev as B,mount_component as Y,run_all as Z,safe_not_equal as $,set_data_dev as A,set_input_value as L,space as C,text as D,to_number as H,transition_in as ee,transition_out as te,validate_slots as ne}from"../../_snowpack/pkg/svelte/internal.js";const{console:M}=U;import N from"../p5/Canvas.svelte.js";import oe from"../../_snowpack/pkg/p5.js";const w="src/beyond/ImageRasterizer.svelte";function T(l){let t,a,R,j,d,i,m,P,b,x=l[0].toFixed(3)+"",E,e,c,F,f,k,O,y,v,S,r,p,I,W;a=new N({props:{sketch:l[2]},$$inline:!0});const n={c:function(){t=_("div"),J(a.$$.fragment),R=C(),j=_("div"),d=_("div"),i=_("div"),m=_("p"),m.textContent="speed:",P=C(),b=_("p"),E=D(x),e=C(),c=_("input"),F=C(),f=_("div"),k=_("p"),k.textContent="lines:",O=C(),y=_("p"),v=D(l[1]),S=C(),r=_("input"),s(m,"class","table-cell w-12 font-mono text-right"),h(m,w,62,8,1744),s(b,"class","table-cell w-24 truncate font-mono pl-2"),h(b,w,63,8,1812),s(c,"class","table-cell align-left"),s(c,"type","range"),s(c,"min","0.001"),s(c,"max","0.5"),s(c,"step","0.01"),h(c,w,64,8,1894),s(i,"class","table-row"),h(i,w,61,6,1712),s(k,"class","table-cell w-12 font-mono text-right"),h(k,w,69,8,2056),s(y,"class","table-cell w-24 truncate font-mono pl-2"),h(y,w,70,8,2124),s(r,"class","table-cell align-left"),s(r,"type","range"),s(r,"min","1"),s(r,"max","24"),h(r,w,71,8,2197),s(f,"class","table-row"),h(f,w,68,6,2024),s(d,"class","table-row-group"),h(d,w,60,4,1676),s(j,"class","table w-full"),h(j,w,59,2,1645),s(t,"class","flex flex-col"),h(t,w,56,0,1585)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,z){X(u,t,z),Y(a,t,null),o(t,R),o(t,j),o(j,d),o(d,i),o(i,m),o(i,P),o(i,b),o(b,E),o(i,e),o(i,c),L(c,l[0]),o(d,F),o(d,f),o(f,k),o(f,O),o(f,y),o(y,v),o(f,S),o(f,r),L(r,l[1]),p=!0,I||(W=[B(c,"change",l[4]),B(c,"input",l[4]),B(r,"change",l[5]),B(r,"input",l[5])],I=!0)},p:function(u,[z]){(!p||z&1)&&x!==(x=u[0].toFixed(3)+"")&&A(E,x),z&1&&L(c,u[0]),(!p||z&2)&&A(v,u[1]),z&2&&L(r,u[1])},i:function(u){p||(ee(a.$$.fragment,u),p=!0)},o:function(u){te(a.$$.fragment,u),p=!1},d:function(u){u&&Q(t),K(a),I=!1,Z(W)}};return q("SvelteRegisterBlock",{block:n,id:T.name,type:"component",source:"",ctx:l}),n}function se(l,t,a){let{$$slots:R={},$$scope:j}=t;ne("ImageRasterizer",R,[]);let{location:d}=t,i=.215,m=12;const P=(e,c)=>{const F=()=>{e.background(0),e.stroke(255),e.strokeWeight(4),e.colorMode(e.HSB)},f=n=>e.sin(n/10)*180+e.sin(n/5)*30,k=n=>e.cos(n/10)*120,O=n=>e.sin(n/7)*280+e.sin(n)*2,y=n=>e.cos(n/2)*20+e.sin(n/7)*75;let v=0;const S=e.TWO_PI/256,r=n=>(v=(v+S)%e.TWO_PI,console.log({hue:v,out:(e.sin(v)*256).toFixed()}),(e.sin(v)*256).toFixed());let p=0;e.draw=()=>{e.translate(e.width/2,e.height/2),e.background(0),e.stroke(r(p),80,80,20);for(let n=0;n<m;n++){const g=p+n;e.line(f(g),k(g),O(g),y(g))}p+=i};let I=!0;const W=()=>{I?e.noLoop():e.loop(),I=!I};return e.keyPressed=()=>{switch(e.keyCode){case 32:W();break;case 13:e.redraw();break}},{setup:F}},b=["location"];Object.keys(t).forEach(e=>{!~b.indexOf(e)&&e.slice(0,2)!=="$$"&&M.warn(`<ImageRasterizer> was created with unknown prop '${e}'`)});function x(){i=H(this.value),a(0,i)}function E(){m=H(this.value),a(1,m)}return l.$$set=e=>{"location"in e&&a(3,d=e.location)},l.$capture_state=()=>({location:d,Canvas:N,p5:oe,dt:i,lines:m,sketch:P}),l.$inject_state=e=>{"location"in e&&a(3,d=e.location),"dt"in e&&a(0,i=e.dt),"lines"in e&&a(1,m=e.lines)},t&&"$$inject"in t&&l.$inject_state(t.$$inject),[i,m,P,d,x,E]}class le extends G{constructor(t){super(t);V(this,t,se,T,$,{location:3}),q("SvelteRegisterComponent",{component:this,tagName:"ImageRasterizer",options:t,id:T.name});const{ctx:a}=this.$$,R=t.props||{};a[3]===void 0&&!("location"in R)&&M.warn("<ImageRasterizer> was created without expected prop 'location'")}get location(){throw new Error("<ImageRasterizer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set location(t){throw new Error("<ImageRasterizer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export default le;
