import{SvelteComponent as ne,append as s,attr as f,check_outros as oe,create_component as W,destroy_component as X,destroy_each as ae,detach as y,element as c,group_outros as re,init as pe,insert as M,mount_component as Y,safe_not_equal as ce,set_data as P,space as I,text as $,transition_in as K,transition_out as V}from"../../_snowpack/pkg/svelte/internal.js";import{createEventDispatcher as ie,onMount as ue,onDestroy as fe}from"../../_snowpack/pkg/svelte.js";import"../ui/Toggle.svelte.js";import Z from"../ui/Button.svelte.js";function te(l,e,t){const p=l.slice();return p[20]=e[t],p[22]=t,p}function se(l){let e,t,p,T,w,r,g,_,b;return t=new Z({props:{class:"w-48 font-bold",$$slots:{contents:[de]},$$scope:{ctx:l}}}),t.$on("click",l[8]),w=new Z({props:{class:"bg-yellow-600 w-32",$$slots:{contents:[me]},$$scope:{ctx:l}}}),w.$on("click",l[4]),_=new Z({props:{class:"bg-red-800 w-24",$$slots:{contents:[ge]},$$scope:{ctx:l}}}),_.$on("click",l[6]),{c(){e=c("div"),W(t.$$.fragment),p=I(),T=c("div"),W(w.$$.fragment),r=I(),g=c("div"),W(_.$$.fragment)},m(o,d){M(o,e,d),Y(t,e,null),M(o,p,d),M(o,T,d),Y(w,T,null),M(o,r,d),M(o,g,d),Y(_,g,null),b=!0},p(o,d){const B={};d&8388608&&(B.$$scope={dirty:d,ctx:o}),t.$set(B);const v={};d&8388608&&(v.$$scope={dirty:d,ctx:o}),w.$set(v);const H={};d&8388608&&(H.$$scope={dirty:d,ctx:o}),_.$set(H)},i(o){b||(K(t.$$.fragment,o),K(w.$$.fragment,o),K(_.$$.fragment,o),b=!0)},o(o){V(t.$$.fragment,o),V(w.$$.fragment,o),V(_.$$.fragment,o),b=!1},d(o){o&&y(e),X(t),o&&y(p),o&&y(T),X(w),o&&y(r),o&&y(g),X(_)}}}function de(l){let e;return{c(){e=c("span"),e.textContent="Next",f(e,"slot","contents")},m(t,p){M(t,e,p)},d(t){t&&y(e)}}}function me(l){let e;return{c(){e=c("span"),e.textContent="Pause",f(e,"slot","contents")},m(t,p){M(t,e,p)},d(t){t&&y(e)}}}function ge(l){let e;return{c(){e=c("span"),e.textContent="Stop",f(e,"slot","contents")},m(t,p){M(t,e,p)},d(t){t&&y(e)}}}function _e(l){let e;return{c(){e=c("span"),e.textContent="Reset",f(e,"slot","contents"),f(e,"class","text-sm")},m(t,p){M(t,e,p)},d(t){t&&y(e)}}}function le(l){let e,t,p=l[22]+1+"",T,w,r,g=l[20].elapsed.H+"",_,b,o=l[20].elapsed.M+"",d,B,v=l[20].elapsed.S+"",H,q,D,E=l[20].elapsed.ms+"",z,G,u,x=l[20].startedAt.toLocaleTimeString()+"",N,i,S,k=l[5](l[20].paused)+"",L,R,j,F=l[20].endedAt.toLocaleTimeString()+"",O,J;return{c(){e=c("tr"),t=c("td"),T=$(p),w=I(),r=c("td"),_=$(g),b=$(":"),d=$(o),B=$(":"),H=$(v),q=$("."),D=c("span"),z=$(E),G=I(),u=c("td"),N=$(x),i=I(),S=c("td"),L=$(k),R=I(),j=c("td"),O=$(F),J=I(),f(t,"class","px-6 py-2 whitespace-nowrap"),f(D,"class","text-md"),f(r,"class","px-6 py-2 font-mono whitespace-nowrap"),f(u,"class","px-6 py-2 whitespace-nowrap"),f(S,"class","px-6 py-2 whitespace-nowrap"),f(j,"class","px-6 py-2 whitespace-nowrap"),f(e,"class","hover:bg-blue-300 ease-in transition duration-300 bg-white")},m(m,a){M(m,e,a),s(e,t),s(t,T),s(e,w),s(e,r),s(r,_),s(r,b),s(r,d),s(r,B),s(r,H),s(r,q),s(r,D),s(D,z),s(e,G),s(e,u),s(u,N),s(e,i),s(e,S),s(S,L),s(e,R),s(e,j),s(j,O),s(e,J)},p(m,a){a&6&&g!==(g=m[20].elapsed.H+"")&&P(_,g),a&6&&o!==(o=m[20].elapsed.M+"")&&P(d,o),a&6&&v!==(v=m[20].elapsed.S+"")&&P(H,v),a&6&&E!==(E=m[20].elapsed.ms+"")&&P(z,E),a&6&&x!==(x=m[20].startedAt.toLocaleTimeString()+"")&&P(N,x),a&6&&k!==(k=m[5](m[20].paused)+"")&&P(L,k),a&6&&F!==(F=m[20].endedAt.toLocaleTimeString()+"")&&P(O,F)},d(m){m&&y(e)}}}function $e(l){let e,t,p=l[2]+1+"",T,w,r,g=l[3].H+"",_,b,o=l[3].M+"",d,B,v=l[3].S+"",H,q,D,E=l[3].ms+"",z,G,u,x,N,i,S,k,L,R,j,F,O,J,m,a=!l[0]&&se(l);i=new Z({props:{class:"bg-gray-600 w-24 ",$$slots:{contents:[_e]},$$scope:{ctx:l}}}),i.$on("click",l[7]);let Q=l[1].slice(0,l[2]),A=[];for(let n=0;n<Q.length;n+=1)A[n]=le(te(l,Q,n));return{c(){e=c("p"),t=c("span"),T=$(p),w=$(`:
 `),r=c("span"),_=$(g),b=$(":"),d=$(o),B=$(":"),H=$(v),q=$("."),D=c("span"),z=$(E),G=I(),u=c("div"),a&&a.c(),x=I(),N=c("div"),W(i.$$.fragment),S=I(),k=c("div"),L=c("div"),R=c("div"),j=c("table"),F=c("thead"),F.innerHTML=`<tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">No</th> 
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Elapsed</th> 
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Started At</th> 
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Paused</th> 
            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ended At</th></tr>`,O=I(),J=c("tbody");for(let n=0;n<A.length;n+=1)A[n].c();f(t,"class","text-bold rounded-xl px-6 p-4 bg-gray-800"),f(D,"class","text-md"),f(r,"class","text-bold rounded-xl p-4 bg-gray-800"),f(e,"class","h-32 bg-gray-700 text-4xl text-gray-100 pt-8 text-center font-mono"),f(u,"class","flex flex-row py-4 justify-center space-x-4"),f(F,"class","bg-gray-50"),f(J,"class","bg-white divide-y divide-gray-200 "),f(j,"class","min-w-full divide-y divide-gray-200"),f(R,"class","shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"),f(L,"class","py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"),f(k,"class","overflow-x-auto sm:-mx-6 lg:-mx-8")},m(n,h){M(n,e,h),s(e,t),s(t,T),s(e,w),s(e,r),s(r,_),s(r,b),s(r,d),s(r,B),s(r,H),s(r,q),s(r,D),s(D,z),M(n,G,h),M(n,u,h),a&&a.m(u,null),s(u,x),s(u,N),Y(i,N,null),M(n,S,h),M(n,k,h),s(k,L),s(L,R),s(R,j),s(j,F),s(j,O),s(j,J);for(let U=0;U<A.length;U+=1)A[U].m(J,null);m=!0},p(n,[h]){(!m||h&4)&&p!==(p=n[2]+1+"")&&P(T,p),(!m||h&8)&&g!==(g=n[3].H+"")&&P(_,g),(!m||h&8)&&o!==(o=n[3].M+"")&&P(d,o),(!m||h&8)&&v!==(v=n[3].S+"")&&P(H,v),(!m||h&8)&&E!==(E=n[3].ms+"")&&P(z,E),n[0]?a&&(re(),V(a,1,1,()=>{a=null}),oe()):a?(a.p(n,h),h&1&&K(a,1)):(a=se(n),a.c(),K(a,1),a.m(u,x));const U={};if(h&8388608&&(U.$$scope={dirty:h,ctx:n}),i.$set(U),h&38){Q=n[1].slice(0,n[2]);let C;for(C=0;C<Q.length;C+=1){const ee=te(n,Q,C);A[C]?A[C].p(ee,h):(A[C]=le(ee),A[C].c(),A[C].m(J,null))}for(;C<A.length;C+=1)A[C].d(1);A.length=Q.length}},i(n){m||(K(a),K(i.$$.fragment,n),m=!0)},o(n){V(a),V(i.$$.fragment,n),m=!1},d(n){n&&y(e),n&&y(G),n&&y(u),a&&a.d(),X(i),n&&y(S),n&&y(k),ae(A,n)}}}function we(l,e,t){let p;const T=ie();let w=!1;const r=()=>{w?H():q()};let g={H:0,M:0,S:0,ms:0},_,b=0;const o=i=>{const S=Math.floor(i/(60*60*1e3));i-=S*60*60*1e3;const k=Math.floor(i/(60*1e3));i-=k*60*1e3;const L=Math.floor(i/1e3);return i-=L*1e3,{H:S,M:k,S:L,ms:i}},d=()=>{console.log(" ... compute elapsed");let i=new Date-_+b;t(9,g=o(i))},B=i=>{const S=o(i),k=String(S.H).padStart(2,"0"),L=String(S.M).padStart(2,"0"),R=String(S.S).padStart(2,"0"),j=String(S.ms).padStart(3,"0");return`${k}:${L}:${R}.${j}`};let v;const H=()=>{console.log("resuming ... "),_=new Date,v=setInterval(d,100),console.log("resumed ... ",v),w=!1},q=()=>{console.log("pausing ",v),clearInterval(v),b+=new Date-_,w=!0};let D=!1;const E=()=>{q(),t(0,D=!0)},z=()=>{clearInterval(v),b=0,_=null,t(0,D=!1),t(1,u=[]),t(2,x=0)},G=()=>{T("reset",{})};let u=[],x=0;const N=()=>{if(console.log(" ... next"),u.length==0){u.push({startedAt:new Date}),H();return}const i=u[x];t(1,u[x]={...i,paused:b,elapsed:{...p},endedAt:new Date},u),q(),u.push({startedAt:new Date}),t(2,x++,x),console.log({elapsedList:u}),b=0,H()};return ue(N),fe(z),l.$$.update=()=>{if(l.$$.dirty&512){e:t(3,p={H:String(g.H).padStart(2,"0"),M:String(g.M).padStart(2,"0"),S:String(g.S).padStart(2,"0"),ms:String(g.ms).padStart(3,"0")})}},[D,u,x,p,r,B,E,G,N,g]}class ve extends ne{constructor(e){super();pe(this,e,we,$e,ce,{})}}export default ve;
