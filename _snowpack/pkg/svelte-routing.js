import{n as A,s as M,a as ht,r as mt,i as dt,S as K,b as q,c as H,u as z,t as C,d as E,g as N,e as O,o as _t,f as x,h as Q,j,k as Y,l as F,m as w,p as gt,q as T,v as G,w as v,x as $,y as tt,z as et,A as nt,B as bt,C as ot,D as kt,E as st,F as yt}from"./common/index-e37c7fca.js";const L=[];function St(t,e){return{subscribe:I(t,e).subscribe}}function I(t,e=A){let o;const n=[];function s(c){if(M(t,c)&&(t=c,o)){const a=!L.length;for(let r=0;r<n.length;r+=1){const l=n[r];l[1](),L.push(l,t)}if(a){for(let r=0;r<L.length;r+=2)L[r][0](L[r+1]);L.length=0}}}function i(c){s(c(t))}function u(c,a=A){const r=[c,a];return n.push(r),n.length===1&&(o=e(s)||A),c(t),()=>{const l=n.indexOf(r);l!==-1&&n.splice(l,1),n.length===0&&(o(),o=null)}}return{set:s,update:i,subscribe:u}}function Pt(t,e,o){const n=!Array.isArray(t),s=n?[t]:t,i=e.length<2;return St(o,u=>{let c=!1;const a=[];let r=0,l=A;const g=()=>{if(!r){l();const m=e(n?a[0]:a,u);i?u(m):l=dt(m)?m:A}},_=s.map((m,k)=>ht(m,d=>{a[k]=d,r&=~(1<<k),c&&g()},()=>{r|=1<<k}));return c=!0,g(),function(){mt(_),l()}})}const U={},B={};function W(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}function Rt(t,e){const o=[];let n=W(t);return{get location(){return n},listen(s){o.push(s);const i=()=>{n=W(t),s({location:n,action:"POP"})};return t.addEventListener("popstate",i),()=>{t.removeEventListener("popstate",i);const u=o.indexOf(s);o.splice(u,1)}},navigate(s,{state:i,replace:u=!1}={}){i={...i,key:Date.now()+""};try{u?t.history.replaceState(i,null,s):t.history.pushState(i,null,s)}catch(c){t.location[u?"replace":"assign"](s)}n=W(t),o.forEach(c=>c({location:n,action:"PUSH"}))}}}function Ct(t="/"){let e=0;const o=[{pathname:t,search:""}],n=[];return{get location(){return o[e]},addEventListener(s,i){},removeEventListener(s,i){},history:{get entries(){return o},get index(){return e},get state(){return n[e]},pushState(s,i,u){const[c,a=""]=u.split("?");e++,o.push({pathname:c,search:a}),n.push(s)},replaceState(s,i,u){const[c,a=""]=u.split("?");o[e]={pathname:c,search:a},n[e]=s}}}}const Et=Boolean(typeof window!="undefined"&&window.document&&window.document.createElement),J=Rt(Et?window:Ct()),{navigate:Ot}=J,rt=/^:(.+)/,it=4,Nt=3,Tt=2,Lt=1,At=1;function V(t,e){return t.substr(0,e.length)===e}function It(t){return t===""}function Dt(t){return rt.test(t)}function at(t){return t[0]==="*"}function D(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function X(t){return t.replace(/(^\/+|\/+$)/g,"")}function Mt(t,e){const o=t.default?0:D(t.path).reduce((n,s)=>(n+=it,It(s)?n+=At:Dt(s)?n+=Tt:at(s)?n-=it+Lt:n+=Nt,n),0);return{route:t,score:o,index:e}}function jt(t){return t.map(Mt).sort((e,o)=>e.score<o.score?1:e.score>o.score?-1:e.index-o.index)}function ct(t,e){let o,n;const[s]=e.split("?"),i=D(s),u=i[0]==="",c=jt(t);for(let a=0,r=c.length;a<r;a++){const l=c[a].route;let g=!1;if(l.default){n={route:l,params:{},uri:e};continue}const _=D(l.path),m={},k=Math.max(i.length,_.length);let d=0;for(;d<k;d++){const h=_[d],y=i[d];if(h!==void 0&&at(h)){const P=h==="*"?"*":h.slice(1);m[P]=i.slice(d).map(decodeURIComponent).join("/");break}if(y===void 0){g=!0;break}let S=rt.exec(h);if(S&&!u){const P=decodeURIComponent(y);m[S[1]]=P}else if(h!==y){g=!0;break}}if(!g){o={route:l,params:m,uri:"/"+i.slice(0,d).join("/")};break}}return o||n||null}function wt(t,e){return ct([t],e)}function Z(t,e){return t+(e?`?${e}`:"")}function Ut(t,e){if(V(t,"/"))return t;const[o,n]=t.split("?"),[s]=e.split("?"),i=D(o),u=D(s);if(i[0]==="")return Z(s,n);if(!V(i[0],".")){const r=u.concat(i).join("/");return Z((s==="/"?"":"/")+r,n)}const c=u.concat(i),a=[];return c.forEach(r=>{r===".."?a.pop():r!=="."&&a.push(r)}),Z("/"+a.join("/"),n)}function ut(t,e){return`${X(e==="/"?t:`${X(t)}/${X(e)}`)}/`}function Bt(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kt(t){let e;const o=t[9].default,n=H(o,t,t[8],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,[i]){n&&(n.p&&i&256&&z(n,o,s,s[8],i,null,null))},i(s){e||(C(n,s),e=!0)},o(s){E(n,s),e=!1},d(s){n&&n.d(s)}}}function qt(t,e,o){let n,s,i,{$$slots:u={},$$scope:c}=e,{basepath:a="/"}=e,{url:r=null}=e;const l=N(U),g=N(B),_=I([]);O(t,_,f=>o(7,i=f));const m=I(null);let k=!1;const d=l||I(r?{pathname:r}:J.location);O(t,d,f=>o(6,s=f));const h=g?g.routerBase:I({path:a,uri:a});O(t,h,f=>o(5,n=f));const y=Pt([h,m],([f,b])=>{if(b===null)return f;const{path:p}=f,{route:R,uri:pt}=b;return{path:R.default?p:R.path.replace(/\*.*$/,""),uri:pt}});function S(f){const{path:b}=n;let{path:p}=f;if(f._path=p,f.path=ut(b,p),typeof window=="undefined"){if(k)return;const R=wt(f,s.pathname);R&&(m.set(R),k=!0)}else _.update(R=>(R.push(f),R))}function P(f){_.update(b=>{const p=b.indexOf(f);return b.splice(p,1),b})}return l||(_t(()=>J.listen(b=>{d.set(b.location)})),x(U,d)),x(B,{activeRoute:m,base:h,routerBase:y,registerRoute:S,unregisterRoute:P}),t.$$set=f=>{"basepath"in f&&o(3,a=f.basepath),"url"in f&&o(4,r=f.url),"$$scope"in f&&o(8,c=f.$$scope)},t.$$.update=()=>{if(t.$$.dirty&32){const{path:f}=n;_.update(b=>(b.forEach(p=>p.path=ut(f,p._path)),b))}if(t.$$.dirty&192){const f=ct(i,s.pathname);m.set(f)}},[_,d,h,a,r,n,s,i,c,u]}class Ht extends K{constructor(e){super();q(this,e,qt,Kt,M,{basepath:3,url:4})}}const zt=t=>({params:t&4,location:t&16}),lt=t=>({params:t[2],location:t[4]});function ft(t){let e,o,n,s;const i=[Yt,Qt],u=[];function c(a,r){return a[0]!==null?0:1}return e=c(t),o=u[e]=i[e](t),{c(){o.c(),n=Q()},m(a,r){u[e].m(a,r),j(a,n,r),s=!0},p(a,r){let l=e;e=c(a),e===l?u[e].p(a,r):(Y(),E(u[l],1,1,()=>{u[l]=null}),F(),o=u[e],o?o.p(a,r):(o=u[e]=i[e](a),o.c()),C(o,1),o.m(n.parentNode,n))},i(a){s||(C(o),s=!0)},o(a){E(o),s=!1},d(a){u[e].d(a),a&&w(n)}}}function Qt(t){let e;const o=t[10].default,n=H(o,t,t[9],lt);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&(n.p&&i&532&&z(n,o,s,s[9],i,zt,lt))},i(s){e||(C(n,s),e=!0)},o(s){E(n,s),e=!1},d(s){n&&n.d(s)}}}function Yt(t){let e,o,n;const s=[{location:t[4]},t[2],t[3]];var i=t[0];function u(c){let a={};for(let r=0;r<s.length;r+=1)a=T(a,s[r]);return{props:a}}return i&&(e=new i(u())),{c(){e&&v(e.$$.fragment),o=Q()},m(c,a){e&&$(e,c,a),j(c,o,a),n=!0},p(c,a){const r=a&28?tt(s,[a&16&&{location:c[4]},a&4&&et(c[2]),a&8&&et(c[3])]):{};if(i!==(i=c[0])){if(e){Y();const l=e;E(l.$$.fragment,1,0,()=>{nt(l,1)}),F()}i?(e=new i(u()),v(e.$$.fragment),C(e.$$.fragment,1),$(e,o.parentNode,o)):e=null}else i&&e.$set(r)},i(c){n||(e&&C(e.$$.fragment,c),n=!0)},o(c){e&&E(e.$$.fragment,c),n=!1},d(c){c&&w(o),e&&nt(e,c)}}}function Ft(t){let e,o,n=t[1]!==null&&t[1].route===t[7]&&ft(t);return{c(){n&&n.c(),e=Q()},m(s,i){n&&n.m(s,i),j(s,e,i),o=!0},p(s,[i]){s[1]!==null&&s[1].route===s[7]?n?(n.p(s,i),i&2&&C(n,1)):(n=ft(s),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(Y(),E(n,1,1,()=>{n=null}),F())},i(s){o||(C(n),o=!0)},o(s){E(n),o=!1},d(s){n&&n.d(s),s&&w(e)}}}function Gt(t,e,o){let n,s,{$$slots:i={},$$scope:u}=e,{path:c=""}=e,{component:a=null}=e;const{registerRoute:r,unregisterRoute:l,activeRoute:g}=N(B);O(t,g,h=>o(1,n=h));const _=N(U);O(t,_,h=>o(4,s=h));const m={path:c,default:c===""};let k={},d={};return r(m),typeof window!="undefined"&&gt(()=>{l(m)}),t.$$set=h=>{o(13,e=T(T({},e),G(h))),"path"in h&&o(8,c=h.path),"component"in h&&o(0,a=h.component),"$$scope"in h&&o(9,u=h.$$scope)},t.$$.update=()=>{t.$$.dirty&2&&(n&&n.route===m&&o(2,k=n.params));{const{path:h,component:y,...S}=e;o(3,d=S)}},e=G(e),[a,n,k,d,s,g,_,m,c,u,i]}class Wt extends K{constructor(e){super();q(this,e,Gt,Ft,M,{path:8,component:0})}}function Jt(t){let e,o,n,s;const i=t[16].default,u=H(i,t,t[15],null);let c=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],a={};for(let r=0;r<c.length;r+=1)a=T(a,c[r]);return{c(){e=bt("a"),u&&u.c(),ot(e,a)},m(r,l){j(r,e,l),u&&u.m(e,null),o=!0,n||(s=kt(e,"click",t[5]),n=!0)},p(r,[l]){u&&(u.p&&l&32768&&z(u,i,r,r[15],l,null,null)),ot(e,a=tt(c,[(!o||l&1)&&{href:r[0]},(!o||l&4)&&{"aria-current":r[2]},l&2&&r[1],l&64&&r[6]]))},i(r){o||(C(u,r),o=!0)},o(r){E(u,r),o=!1},d(r){r&&w(e),u&&u.d(r),n=!1,s()}}}function Vt(t,e,o){let n;const s=["to","replace","state","getProps"];let i=st(e,s),u,c,{$$slots:a={},$$scope:r}=e,{to:l="#"}=e,{replace:g=!1}=e,{state:_={}}=e,{getProps:m=()=>({})}=e;const{base:k}=N(B);O(t,k,p=>o(13,u=p));const d=N(U);O(t,d,p=>o(14,c=p));const h=yt();let y,S,P,f;function b(p){if(h("click",p),Bt(p)){p.preventDefault();const R=c.pathname===y||g;Ot(y,{state:_,replace:R})}}return t.$$set=p=>{e=T(T({},e),G(p)),o(6,i=st(e,s)),"to"in p&&o(7,l=p.to),"replace"in p&&o(8,g=p.replace),"state"in p&&o(9,_=p.state),"getProps"in p&&o(10,m=p.getProps),"$$scope"in p&&o(15,r=p.$$scope)},t.$$.update=()=>{t.$$.dirty&8320&&o(0,y=l==="/"?u.uri:Ut(l,u.uri)),t.$$.dirty&16385&&o(11,S=V(c.pathname,y)),t.$$.dirty&16385&&o(12,P=y===c.pathname),t.$$.dirty&4096&&o(2,n=P?"page":void 0),t.$$.dirty&23553&&o(1,f=m({location:c,href:y,isPartiallyCurrent:S,isCurrent:P}))},[y,f,n,k,d,b,i,l,g,_,m,S,P,u,c,r,a]}class Xt extends K{constructor(e){super();q(this,e,Vt,Jt,M,{to:7,replace:8,state:9,getProps:10})}}export{Xt as Link,Wt as Route,Ht as Router};
